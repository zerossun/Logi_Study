<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/google/style.css" />
    <title>Document</title>
  </head>
  <body>
    <h2 id="clock">00:00</h2>
    <form id="LoginForm">
      <input
        required
        maxlength="15"
        type="text"
        placeholder="what is your name?"
      />
      <input type="submit" value="Login" />
    </form>
    <h1 id="greeting" class="hidden"></h1>
    <button id="logout" class="hidden">logout</button>
    <form id="todo_form">
      <input type="text" placeholder="write a TodoList" />
    </form>
    <ul id="todo_list"></ul>
    <div id="quote">
      <span></span>
      <span></span>
    </div>
    <button class="toggle">toggle</button>
    <div class="box" style="width: 100px; height: 100px; background: red"></div>

    <script>
      // 클로저에 관한 아주 훌륭한 예제
      // const order = (food) => {
      //   console.log(food + '을 주문하였습니다.');
      //   return function (drink) {
      //     return drink + '을 추가로 주문하였습니다.';
      //   };
      // };

      // const orderBuger = order('햄버거');
      // const orderPizza = order('피자');
      // console.log(orderBuger('coke'));
      // console.log(orderPizza('sprite'));

      // 💥그리고 더 좋은 방법💥

      const order = (food) => {
        return function (drink) {
          return food + '에 ' + drink + '을 추가로 주문하였습니다.';
        };
      };

      // 이렇게 바꿔보시면 조금 더 명확하게 보이실 거 같습니다!
      // 왜냐하면 현재 코드에서는 order 가 실행되는 순간 food 가 바로 출력되기 때문에
      // 해당 food 가 클로저(drink 출력 함수)가 접근할 수 있는 변수인지
      // 그냥 order 내에 선언된 변수인지 알기가 어려워서 그렇습니다.
      // [2]

      // toggle 변수의 마지막을 보시면 () 기호가 있는데 이는 함수를 호출하는 것이고
      // 해당 코드에서는 아래 클로저 반환 함수를 익명함수로 바로 실행해서 클로저를
      // toggle 에 할당하기 위해 함수 전체에 괄호를 쳐서 실행한 것이라고 보시면 됩니다!

      // const order = (food) => {
      //   return function (drink) {
      //     return food + '에 ' + drink + '을 추가로 주문하였습니다.';
      //   };
      // };

      const orderBuger = order('햄버거');
      const orderPizza = order('피자');
      console.log(orderBuger('coke'));
      console.log(orderPizza('sprite'));

      // index.html:34 햄버거을 주문하였습니다.
      // index.html:34 피자을 주문하였습니다.
      // index.html:42 coke을 추가로 주문하였습니다.
      // index.html:43 sprite을 추가로 주문하였습니다.

      // 하 왜 결과값이 다른건데 = 각각의 자신만의 환경을 가져 공유하지 않는답니다.

      var increase = function (num) {
        return ++num;
      };

      var decrease = function (num) {
        return --num;
      };

      var predicates = { increase, decrease };

      function makeCounter(predicates) {
        var num = 0;

        return function () {
          num = predicates(num);
          return num;
        };
      }

      var toggle = function outer() {
        var isShow = false;
        return function closure() {
          box.style.display = isShow ? 'block' : 'none';
          isShow = !isShow;
        };
      };
      console.log(toggle);
      var toggle = (function outer() {
        var isShow = false;
        return function closure() {
          box.style.display = isShow ? 'block' : 'none';
          isShow = !isShow;
        };
      })();
      console.log(toggle);
    </script>
    <!-- <script src="login.js"></script> -->
    <script src="login2.js"></script>
    <script src="quotes.js"></script>
    <script src="clock.js"></script>
    <script src="background.js"></script>
    <script src="todo.js"></script>
    <script src="weather.js"></script>
    <!-- <script src="todo2.js"></script> -->
  </body>
</html>
